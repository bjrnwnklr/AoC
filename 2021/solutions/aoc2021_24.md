# AoC 2021, day 24 - Analysis

Analysis of what the MONAD program does.

# Analysis of high level log file - which input numbers generate which output in `z`

Reviewing what input numbers generate as output in the `vars`, specifically `z`.

Patterns observed in the log:

1. Input 1..1 to ... generates a repeating pattern with `z` from 65004383 to 65004391

-   The pattern repeats with the last number going from 1 to 9.
-   `y` goes from 15 to 23
-   `z` goes from 65004383 to 65004391

```
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1). alu.vars={'w': 1, 'x': 1, 'y': 15, 'z': 65004383}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2). alu.vars={'w': 2, 'x': 1, 'y': 16, 'z': 65004384}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3). alu.vars={'w': 3, 'x': 1, 'y': 17, 'z': 65004385}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4). alu.vars={'w': 4, 'x': 1, 'y': 18, 'z': 65004386}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5). alu.vars={'w': 5, 'x': 1, 'y': 19, 'z': 65004387}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 6). alu.vars={'w': 6, 'x': 1, 'y': 20, 'z': 65004388}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 7). alu.vars={'w': 7, 'x': 1, 'y': 21, 'z': 65004389}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 8). alu.vars={'w': 8, 'x': 1, 'y': 22, 'z': 65004390}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 9). alu.vars={'w': 9, 'x': 1, 'y': 23, 'z': 65004391
```

-   This pattern goes on until it changes after `(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 9, 9)`
-   The new pattern starts at `(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 1)` - when the 4th digit changes to 2.

```
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 9, 9). alu.vars={'w': 9, 'x': 1, 'y': 23, 'z': 65004391}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 1). alu.vars={'w': 1, 'x': 1, 'y': 15, 'z': 1690113765}
```

2. The first break appears when the last three digits are `1, 9, 1` to `1, 9, 9`

-   `w`, `x`, `y` still follow the same pattern of 1, 1, 15; 2, 1, 16 etc
-   `z` now goes from 2500175 to 2500183
-   `1, 9, 3` is a special case with `'w': 3, 'x': 0, 'y': 0, 'z': 96160`

```
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 9, 1). alu.vars={'w': 1, 'x': 1, 'y': 15, 'z': 2500175}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 9, 2). alu.vars={'w': 2, 'x': 1, 'y': 16, 'z': 2500176}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 9, 3). alu.vars={'w': 3, 'x': 0, 'y': 0, 'z': 96160}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 9, 4). alu.vars={'w': 4, 'x': 1, 'y': 18, 'z': 2500178}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 9, 5). alu.vars={'w': 5, 'x': 1, 'y': 19, 'z': 2500179}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 9, 6). alu.vars={'w': 6, 'x': 1, 'y': 20, 'z': 2500180}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 9, 7). alu.vars={'w': 7, 'x': 1, 'y': 21, 'z': 2500181}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 9, 8). alu.vars={'w': 8, 'x': 1, 'y': 22, 'z': 2500182}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 9, 9). alu.vars={'w': 9, 'x': 1, 'y': 23, 'z': 2500183}
```

3. A new pattern starts at `(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 1)` - when the 4th digit changes to 2.

-   `w`, `x`, `y` continue as normal as 1, 1, 15 to 9, 1, 23
-   `z` now goes from 1690113765 to 1690113773

```
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 1). alu.vars={'w': 1, 'x': 1, 'y': 15, 'z': 1690113765}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 2). alu.vars={'w': 2, 'x': 1, 'y': 16, 'z': 1690113766}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 3). alu.vars={'w': 3, 'x': 1, 'y': 17, 'z': 1690113767}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 4). alu.vars={'w': 4, 'x': 1, 'y': 18, 'z': 1690113768}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 5). alu.vars={'w': 5, 'x': 1, 'y': 19, 'z': 1690113769}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 6). alu.vars={'w': 6, 'x': 1, 'y': 20, 'z': 1690113770}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 7). alu.vars={'w': 7, 'x': 1, 'y': 21, 'z': 1690113771}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 8). alu.vars={'w': 8, 'x': 1, 'y': 22, 'z': 1690113772}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 9). alu.vars={'w': 9, 'x': 1, 'y': 23, 'z': 1690113773}
```

4. The pattern changes back to pattern 1 at `(1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 9, 9, 9)` to `(1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 1, 1)`

-   When the last three digits go back to 1, 1, 1, we go back to `z` with 65004383

```
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 9, 9, 9). alu.vars={'w': 9, 'x': 1, 'y': 23, 'z': 1690113773}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 1, 1). alu.vars={'w': 1, 'x': 1, 'y': 15, 'z': 65004383}
```

# Intersting numbers to review

1. What combinations cause pattern 2 (`z` = 2500175 and `z` = 96160)

`z` = 96160:

```
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 9, 3). alu.vars={'w': 3, 'x': 0, 'y': 0, 'z': 96160}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 3, 3). alu.vars={'w': 3, 'x': 0, 'y': 0, 'z': 96160}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 2, 3, 3). alu.vars={'w': 3, 'x': 0, 'y': 0, 'z': 96160}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4, 3, 3, 3). alu.vars={'w': 3, 'x': 0, 'y': 0, 'z': 96160}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5, 4, 3, 3). alu.vars={'w': 3, 'x': 0, 'y': 0, 'z': 96160}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 6, 5, 3, 3). alu.vars={'w': 3, 'x': 0, 'y': 0, 'z': 96160}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 7, 6, 3, 3). alu.vars={'w': 3, 'x': 0, 'y': 0, 'z': 96160}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 8, 7, 3, 3). alu.vars={'w': 3, 'x': 0, 'y': 0, 'z': 96160}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 9, 8, 3, 3). alu.vars={'w': 3, 'x': 0, 'y': 0, 'z': 96160}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 9, 3). alu.vars={'w': 3, 'x': 0, 'y': 0, 'z': 96160}
```

`z` = 2500175

```
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 9, 1). alu.vars={'w': 1, 'x': 1, 'y': 15, 'z': 2500175}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 3, 1). alu.vars={'w': 1, 'x': 1, 'y': 15, 'z': 2500175}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 2, 3, 1). alu.vars={'w': 1, 'x': 1, 'y': 15, 'z': 2500175}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4, 3, 3, 1). alu.vars={'w': 1, 'x': 1, 'y': 15, 'z': 2500175}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5, 4, 3, 1). alu.vars={'w': 1, 'x': 1, 'y': 15, 'z': 2500175}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 6, 5, 3, 1). alu.vars={'w': 1, 'x': 1, 'y': 15, 'z': 2500175}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 7, 6, 3, 1). alu.vars={'w': 1, 'x': 1, 'y': 15, 'z': 2500175}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 8, 7, 3, 1). alu.vars={'w': 1, 'x': 1, 'y': 15, 'z': 2500175}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 9, 8, 3, 1). alu.vars={'w': 1, 'x': 1, 'y': 15, 'z': 2500175}
INFO:root:Invalid model number: (1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 9, 1). alu.vars={'w': 1, 'x': 1, 'y': 15, 'z': 2500175}
```

# Input numbers to review

Analyse the full program for the following input numbers:

-   Pattern 1: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1). alu.vars={'w': 1, 'x': 1, 'y': 15, 'z': 65004383}
-   Pattern 2a: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 9, 1). alu.vars={'w': 1, 'x': 1, 'y': 15, 'z': 2500175}
-   Pattern 2b: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 9, 3). alu.vars={'w': 3, 'x': 0, 'y': 0, 'z': 96160}
-   Pattern 3: (1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 1). alu.vars={'w': 1, 'x': 1, 'y': 15, 'z': 1690113765}

# Other approaches

-   Run from 9999999999999 downwards
-   Run pattern 2b with different numbers in the beginning and see where it changes
-   Analyse the code from the end and see at what condition a zero is returned
